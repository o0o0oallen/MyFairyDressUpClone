function x(a){if(!a)throw Error("assert :P")}function fa(a,r,n){for(var i=0;4>i;i++)if(a[r+i]!=n.charCodeAt(i))return!0;return!1}function I(a,r,n,i,t){for(var e=0;e<t;e++)a[r+e]=n[i+e]}function M(a,r,n,i){for(var t=0;t<i;t++)a[r+t]=n}function V(a){return new Int32Array(a)}function wa(a,r){for(var n=[],i=0;i<a;i++)n.push(new r);return n}function wb(){var a=[];return function F(a,r,n){for(var i=n[r],t=0;t<i&&(a.push(n.length>r+1?[]:0),!(n.length<r+1));t++)F(a[t],r+1,n)}(a,0,[3,11]),a}function Ed(a,r){var n=[];return function J(a,n,i){for(var t=i[n],e=0;e<t&&(a.push(i.length>n+1?[]:new r),!(i.length<n+1));e++)J(a[e],n+1,i)}(n,0,a),n}function WebPImageViewer(a,r,n){var i=r.response,t=r.header?r.header:null,e=r.frames?r.frames:null;if(t){t.loop_counter=t.loop_count;for(var f=0;f<e.length;f++)if(0==e[f].blend){!0;break}}for(f=0;f<e.length;f++){var u=[0],o=[0],c=e[f],l=a.WebPDecodeRGBA(i,c.src_off,c.src_size,o,u);c.rgba=l,c.imgwidth=o[0],c.imgheight=u[0],c.rgbaoutput=c.rgba}n&&n(e[0])}function memcmp(a,r,n,i){for(var t=0;t<i;t++)if(a[r+t]!=n.charCodeAt(t))return!0;return!1}function GetTag(a,r){for(var n="",i=0;i<4;i++)n+=String.fromCharCode(a[r++]);return n}function GetLE16(a,r){return a[r+0]<<0|a[r+1]<<8}function GetLE24(a,r){return(a[r+0]<<0|a[r+1]<<8|a[r+2]<<16)>>>0}function GetLE32(a,r){return(a[r+0]<<0|a[r+1]<<8|a[r+2]<<16|a[r+3]<<24)>>>0}function WebPRiffParser(a,r){var n={},i=0,t=!1,e=0,f=0;if(n.frames=[],!memcmp(a,r,"RIFF",4)){GetLE32(a,r+=4);for(r+=8;r<a.length;){var u=GetTag(a,r),o=GetLE32(a,r+=4);r+=4;var c=o+(1&o);switch(u){case"VP8 ":case"VP8L":void 0===n.frames[i]&&(n.frames[i]={});(d=n.frames[i]).src_off=t?f:r-8,d.src_size=e+o+8,i++,t&&(t=!1,e=0,f=0);break;case"VP8X":(d=n.header={}).feature_flags=a[r];var l=r+4;d.canvas_width=1+GetLE24(a,l);l+=3;d.canvas_height=1+GetLE24(a,l);l+=3;break;case"ALPH":t=!0,e=c+8,f=r-8;break;case"ANIM":(d=n.header).bgcolor=GetLE32(a,r);l=r+4;d.loop_count=GetLE16(a,l);l+=2;break;case"ANMF":var b,d;(d=n.frames[i]={}).offset_x=2*GetLE24(a,r),r+=3,d.offset_y=2*GetLE24(a,r),r+=3,d.width=1+GetLE24(a,r),r+=3,d.height=1+GetLE24(a,r),r+=3,d.duration=GetLE24(a,r),r+=3,b=a[r++],d.dispose=1&b,d.blend=b>>1&1}"ANMF"!=u&&(r+=c)}return n}}window.WebPDecoder=function(){function F(){V(55)}function L(a,r){for(var n=1<<r-1>>>0;a&n;)n>>>=1;return n?(a&n-1)+n:a}function J(a,r,n,i,t){x(!(i%n));do{a[r+(i-=n)]=t}while(0<i)}function Z(a,r,n,i,t){if(x(2328>=t),512>=t)var e=V(512);else if(null==(e=V(t)))return 0;return function(a,r,n,i,t,e){var f,u,o=r,c=1<<n,l=V(16),b=V(16);for(x(0!=t),x(null!=i),x(null!=a),x(0<n),u=0;u<t;++u){if(15<i[u])return 0;++l[i[u]]}if(l[0]==t)return 0;for(b[1]=0,f=1;15>f;++f){if(l[f]>1<<f)return 0;b[f+1]=b[f]+l[f]}for(u=0;u<t;++u)f=i[u],0<i[u]&&(e[b[f]++]=u);if(1==b[15])return(i=new O).g=0,i.value=e[0],J(a,o,1,c,i),c;var d,s=-1,h=c-1,v=0,w=1,P=1,g=1<<n;for(u=0,f=1,t=2;f<=n;++f,t<<=1){if(w+=P<<=1,0>(P-=l[f]))return 0;for(;0<l[f];--l[f])(i=new O).g=f,i.value=e[u++],J(a,o+v,t,g,i),v=L(v,f)}for(f=n+1,t=2;15>=f;++f,t<<=1){if(w+=P<<=1,0>(P-=l[f]))return 0;for(;0<l[f];--l[f]){if(i=new O,(v&h)!=s){for(o+=g,d=1<<(s=f)-n;15>s&&!(0>=(d-=l[s]));)++s,d<<=1;c+=g=1<<(d=s-n),a[r+(s=v&h)].g=d+n,a[r+s].value=o-r-s}i.g=f-n,i.value=e[u++],J(a,o+(v>>n),t,g,i),v=L(v,f)}}return w!=2*b[15]-1?0:c}(a,r,n,i,t,e)}function O(){this.value=this.g=0}function Fd(){this.value=this.g=0}function Ub(){this.G=wa(5,O),this.H=V(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=wa(a,Fd)}function ma(a,r,n,i){x(null!=a),x(null!=r),x(2147483648>i),a.Ca=254,a.I=0,a.b=-8,a.Ka=0,a.oa=r,a.pa=n,a.Jd=r,a.Yc=n+i,a.Zc=4<=i?n+i-4+1:n,Qa(a)}function na(a,r){for(var n=0;0<r--;)n|=K(a,128)<<r;return n}function ca(a,r){var n=na(a,r);return G(a)?-n:n}function cb(a,r,n,i){var t,e=0;for(x(null!=a),x(null!=r),x(4294967288>i),a.Sb=i,a.Ra=0,a.u=0,a.h=0,4<i&&(i=4),t=0;t<i;++t)e+=r[n+t]<<8*t;a.Ra=e,a.bb=i,a.oa=r,a.pa=n}function Vb(a){for(;8<=a.u&&a.bb<a.Sb;)a.Ra>>>=8,a.Ra+=a.oa[a.pa+a.bb]<<i-8>>>0,++a.bb,a.u-=8;db(a)&&(a.h=1,a.u=0)}function D(a,i){if(x(0<=i),!a.h&&i<=n){var t=pb(a)&r[i];return a.u+=i,Vb(a),t}return a.h=1,a.u=0}function Wb(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Ra(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function pb(a){return a.Ra>>>(a.u&i-1)>>>0}function db(a){return x(a.bb<=a.Sb),a.h||a.bb==a.Sb&&a.u>i}function qb(a,r){a.u=r,a.h=db(a)}function Sa(a){a.u>=t&&(x(a.u>=t),Vb(a))}function Qa(a){x(null!=a&&null!=a.oa),a.pa<a.Zc?(a.I=(a.oa[a.pa++]|a.I<<8)>>>0,a.b+=8):(x(null!=a&&null!=a.oa),a.pa<a.Yc?(a.b+=8,a.I=a.oa[a.pa++]|a.I<<8):a.Ka?a.b=0:(a.I<<=8,a.b+=8,a.Ka=1))}function G(a){return na(a,1)}function K(a,r){var n=a.Ca;0>a.b&&Qa(a);var i=a.b,t=n*r>>>8,f=(a.I>>>i>t)+0;for(f?(n-=t,a.I-=t+1<<i>>>0):n=t+1,i=n,t=0;256<=i;)t+=8,i>>=8;return i=7^t+e[i],a.b-=i,a.Ca=(n<<i)-1,f}function ra(a,r,n){a[r+0]=n>>24&255,a[r+1]=n>>16&255,a[r+2]=n>>8&255,a[r+3]=n>>0&255}function Ta(a,r){return a[r+0]<<0|a[r+1]<<8}function Yb(a,r){return Ta(a,r)|a[r+2]<<16}function Ha(a,r){return Ta(a,r)|Ta(a,r+2)<<16}function Zb(a,r){var n=1<<r;return x(null!=a),x(0<r),a.X=V(n),null==a.X?0:(a.Mb=32-r,a.Xa=r,1)}function $b(a,r){x(null!=a),x(null!=r),x(a.Xa==r.Xa),I(r.X,0,a.X,0,1<<r.Xa)}function ac(){this.X=[],this.Xa=this.Mb=0}function bc(a,r,n,i){x(null!=n),x(null!=i);var t=n[0],e=i[0];return 0==t&&(t=(a*e+r/2)/r),0==e&&(e=(r*t+a/2)/a),0>=t||0>=e?0:(n[0]=t,i[0]=e,1)}function xa(a,r){return a+(1<<r)-1>>>r}function yb(a,r){return((4278255360&a)+(4278255360&r)>>>0&4278255360)+((16711935&a)+(16711935&r)>>>0&16711935)>>>0}function X(a,r){window[r]=function(r,n,i,t,e,f,u){var o;for(o=0;o<e;++o){var c=window[a](f[u+o-1],i,t+o);f[u+o]=yb(r[n+o],c)}}}function Jd(){this.ud=this.hd=this.jd=0}function aa(a,r){return((4278124286&(a^r))>>>1)+(a&r)>>>0}function sa(a){return 0<=a&&256>a?a:0>a?0:255<a?255:void 0}function eb(a,r){return sa(a+(a-r+.5>>1))}function Ia(a,r,n){return Math.abs(r-n)-Math.abs(a-n)}function cc(a,r,n,i,t,e,f){for(i=e[f-1],n=0;n<t;++n)e[f+n]=i=yb(a[r+n],i)}function Kd(a,r,n,i,t){var e;for(e=0;e<n;++e){var f=a[r+e],u=f>>8&255,o=16711935&(o=(o=16711935&f)+((u<<16)+u));i[t+e]=(4278255360&f)+o>>>0}}function dc(a,r){r.jd=a>>0&255,r.hd=a>>8&255,r.ud=a>>16&255}function Ld(a,r,n,i,t,e){var f;for(f=0;f<i;++f){var u=r[n+f],o=u>>>8,c=u,l=255&(l=(l=u>>>16)+((a.jd<<24>>24)*(o<<24>>24)>>>5));c=255&(c=(c=c+((a.hd<<24>>24)*(o<<24>>24)>>>5))+((a.ud<<24>>24)*(l<<24>>24)>>>5));t[e+f]=(4278255360&u)+(l<<16)+c}}function ec(a,r,n,i,t){window[r]=function(a,r,n,e,f,u,o,c,l){for(e=o;e<c;++e)for(o=0;o<l;++o)f[u++]=t(n[i(a[r++])])},window[a]=function(a,r,e,f,u,o,c){var l=8>>a.b,b=a.Ea,d=a.K[0],s=a.w;if(8>l)for(a=(1<<a.b)-1,s=(1<<l)-1;r<e;++r){var h,v=0;for(h=0;h<b;++h)h&a||(v=i(f[u++])),o[c++]=t(d[v&s]),v>>=l}else window["VP8LMapColor"+n](f,u,d,s,o,c,r,e,b)}}function Md(a,r,n,i,t){for(n=r+n;r<n;){var e=a[r++];i[t++]=e>>16&255,i[t++]=e>>8&255,i[t++]=e>>0&255}}function Nd(a,r,n,i,t){for(n=r+n;r<n;){var e=a[r++];i[t++]=e>>16&255,i[t++]=e>>8&255,i[t++]=e>>0&255,i[t++]=e>>24&255}}function Od(a,r,n,i,t){for(n=r+n;r<n;){var e=(f=a[r++])>>16&240|f>>12&15,f=f>>0&240|f>>28&15;i[t++]=e,i[t++]=f}}function Pd(a,r,n,i,t){for(n=r+n;r<n;){var e=(f=a[r++])>>16&248|f>>13&7,f=f>>5&224|f>>3&31;i[t++]=e,i[t++]=f}}function Qd(a,r,n,i,t){for(n=r+n;r<n;){var e=a[r++];i[t++]=e>>0&255,i[t++]=e>>8&255,i[t++]=e>>16&255}}function fb(a,r,n,i,t,e){if(0==e)for(n=r+n;r<n;)ra(i,((e=a[r++])[0]>>24|e[1]>>8&65280|e[2]<<8&16711680|e[3]<<24)>>>0),t+=32;else I(i,t,a,r,n)}function gb(a,r){window[r][0]=window[a+"0"],window[r][1]=window[a+"1"],window[r][2]=window[a+"2"],window[r][3]=window[a+"3"],window[r][4]=window[a+"4"],window[r][5]=window[a+"5"],window[r][6]=window[a+"6"],window[r][7]=window[a+"7"],window[r][8]=window[a+"8"],window[r][9]=window[a+"9"],window[r][10]=window[a+"10"],window[r][11]=window[a+"11"],window[r][12]=window[a+"12"],window[r][13]=window[a+"13"],window[r][14]=window[a+"0"],window[r][15]=window[a+"0"]}function hb(a){return a==Ja||a==Ya||a==Na||a==Za}function Rd(){this.eb=[],this.size=this.A=this.fb=0}function Sd(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cb(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rd,this.f.kb=new Sd,this.sd=null}function Td(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ud(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vd(a){return alert("todo:WebPSamplerProcessPlane"),a.T}function Wd(a,r){var n=a.T,i=r.ba.f.RGBA,t=i.eb,e=i.fb+a.ka*i.A,f=Vr[r.ba.S],u=a.y,o=a.O,c=a.f,l=a.N,b=a.ea,d=a.W,s=r.cc,h=r.dc,v=r.Mc,w=r.Nc,P=a.ka,g=a.ka+a.T,x=a.U,k=x+1>>1;for(0==P?f(u,o,null,null,c,l,b,d,c,l,b,d,t,e,null,null,x):(f(r.ec,r.fc,u,o,s,h,v,w,c,l,b,d,t,e-i.A,t,e,x),++n);P+2<g;P+=2)s=c,h=l,v=b,w=d,l+=a.Rc,d+=a.Rc,e+=2*i.A,f(u,(o+=2*a.fa)-a.fa,u,o,s,h,v,w,c,l,b,d,t,e-i.A,t,e,x);return o+=a.fa,a.j+g<a.o?(I(r.ec,r.fc,u,o,x),I(r.cc,r.dc,c,l,k),I(r.Mc,r.Nc,b,d,k),n--):1&g||f(u,o,null,null,c,l,b,d,c,l,b,d,t,e+i.A,null,null,x),n}function Xd(a,r,n){var i=a.F,t=[a.J];if(null!=i){var e=a.U,f=r.ba.S,u=f==Ua||f==Na;r=r.ba.f.RGBA;var o=[0],c=a.ka;o[0]=a.T,a.Kb&&(0==c?--o[0]:(--c,t[0]-=a.width),a.j+a.ka+a.T==a.o&&(o[0]=a.o-a.j-c));var l=r.eb;c=r.fb+c*r.A;a=ta(i,t[0],a.width,e,o,l,c+(u?0:3),r.A),x(n==o),a&&hb(f)&&_(l,c,u,e,o,r.A)}return 0}function gc(a){var r=a.ma,n=r.ba.S,i=11>n,t=n==Ba||n==Wa||n==Ua||n==ja||12==n||hb(n);if(r.memory=null,r.Ib=null,r.Jb=null,r.Nd=null,!hc(r.Oa,a,t?11:12))return 0;if(t&&hb(n)&&ic(),a.da)alert("todo:use_scaling");else{if(i){if(r.Ib=Vd,a.Kb){if(n=a.U+1>>1,r.memory=V(a.U+2*n),null==r.memory)return 0;r.ec=r.memory,r.fc=0,r.cc=r.ec,r.dc=r.fc+a.U,r.Mc=r.cc,r.Nc=r.dc+n,r.Ib=Wd,ic()}}else alert("todo:EmitYUV");t&&(r.Jb=Xd,i&&Aa())}if(i&&!Fr){for(a=0;256>a;++a)Wr[a]=89858*(a-128)+Kr>>Tr,jr[a]=-22014*(a-128)+Kr,Or[a]=-45773*(a-128),Ur[a]=113618*(a-128)+Kr>>Tr;for(a=yr;a<Mr;++a)r=76283*(a-16)+Kr>>Tr,Hr[a-yr]=ga(r,255),Xr[a-yr]=ga(r+8>>4,15);Fr=1}return 1}function kc(a){var r=a.ma,n=a.U,i=a.T;return x(!(1&a.ka)),0>=n||0>=i?0:(n=r.Ib(a,r),null!=r.Jb&&r.Jb(a,r,n),r.Dc+=n,1)}function lc(a){a.ma.memory=null}function mc(a,r,n,i){return 47!=D(a,8)?0:(r[0]=D(a,14)+1,n[0]=D(a,14)+1,i[0]=D(a,1),0!=D(a,3)?0:!a.h)}function ib(a,r){if(4>a)return a+1;var n=a-2>>1;return(2+(1&a)<<n)+D(r,n)+1}function nc(a,r){return 120<r?r-120:1<=(n=((n=tr[r-1])>>4)*a+(8-(15&n)))?n:1;var n}function ua(a,r,n){var i=pb(n),t=a[r+=255&i].g-8;return 0<t&&(qb(n,n.u+8),i=pb(n),r+=a[r].value,r+=i&(1<<t)-1),qb(n,n.u+a[r].g),a[r].value}function ub(a,r,n){return n.g+=a.g,n.value+=a.value<<r>>>0,x(8>=n.g),a.g}function ha(a,r,n){var i=a.xc;return x((r=0==i?0:a.vc[a.md*(n>>i)+(r>>i)])<a.Wb),a.Ya[r]}function oc(a,r,n,i){var t=a.ab,e=a.c*r,l=a.C;r=l+r;var b=n,d=i;for(i=a.Ta,n=a.Ua;0<t--;){var v=a.gc[t],w=l,P=r,g=b,k=d,m=(d=i,b=n,v.Ea);switch(x(w<P),x(P<=v.nc),v.hc){case 2:o(g,k,(P-w)*m,d,b);break;case 0:var A=w,V=P,p=d,G=b,L=(K=v).Ea;0==A&&(f(g,k,null,null,1,p,G),cc(g,k+1,0,0,L-1,p,G+1),k+=L,G+=L,++A);for(var R=1<<K.b,D=R-1,z=xa(L,K.b),T=K.K,K=K.w+(A>>K.b)*z;A<V;){var y=T,M=K,B=1;for(u(g,k,p,G-L,1,p,G);B<L;){var C=(B&~D)+R;C>L&&(C=L),(0,s[y[M++]>>8&15])(g,k+ +B,p,G+B-L,C-B,p,G+B),B=C}k+=L,G+=L,++A&D||(K+=z)}P!=v.nc&&I(d,b-m,d,b+(P-w-1)*m,m);break;case 1:for(m=g,V=k,L=(g=v.Ea)-(G=g&~(p=(k=1<<v.b)-1)),A=xa(g,v.b),R=v.K,v=v.w+(w>>v.b)*A;w<P;){for(D=R,z=v,T=new Jd,K=V+G,y=V+g;V<K;)dc(D[z++],T),h(T,m,V,k,d,b),V+=k,b+=k;V<y&&(dc(D[z++],T),h(T,m,V,L,d,b),V+=L,b+=L),++w&p||(v+=A)}break;case 3:if(g==d&&k==b&&0<v.b){for(V=d,g=m=b+(P-w)*m-(G=(P-w)*xa(v.Ea,v.b)),k=d,p=b,A=[],G=(L=G)-1;0<=G;--G)A[G]=k[p+G];for(G=L-1;0<=G;--G)V[g+G]=A[G];c(v,w,P,d,m,d,b)}else c(v,w,P,g,k,d,b)}b=i,d=n}d!=n&&I(i,n,b,d,e)}function ge(a,r){var n=a.V,i=a.Ba+a.c*a.C,t=r-a.C;if(x(r<=a.l.o),x(16>=t),0<t){var e=a.l,f=a.Ta,u=a.Ua,o=e.width;if(oc(a,t,n,i),t=u=[u],x((n=a.C)<(i=r)),x(e.v<e.va),i>e.o&&(i=e.o),n<e.j){var c=e.j-n;n=e.j;t[0]+=c*o}if(n>=i?n=0:(t[0]+=4*e.v,e.ka=n-e.j,e.U=e.va-e.v,e.T=i-n,n=1),n){if(u=u[0],11>(n=a.ca).S){var l=n.f.RGBA,b=(i=n.S,t=e.U,e=e.T,c=l.eb,l.A),d=e;for(l=l.fb+a.Ma*l.A;0<d--;){var s=f,h=u,m=t,A=c,V=l;switch(i){case Ma:v(s,h,m,A,V);break;case Ba:w(s,h,m,A,V);break;case Ja:w(s,h,m,A,V),_(A,V,0,m,1,0);break;case Ca:k(s,h,m,A,V);break;case Wa:fb(s,h,m,A,V,1);break;case Ya:fb(s,h,m,A,V,1),_(A,V,0,m,1,0);break;case Ua:fb(s,h,m,A,V,0);break;case Na:fb(s,h,m,A,V,0),_(A,V,1,m,1,0);break;case ja:P(s,h,m,A,V);break;case Za:P(s,h,m,A,V),ia(A,V,m,1,0);break;case Ea:g(s,h,m,A,V);break;default:x(0)}u+=o,l+=b}a.Ma+=e}else alert("todo:EmitRescaledRowsYUVA");x(a.Ma<=n.height)}}a.C=r,x(a.C<=a.i)}function yc(a){var r;if(0<a.ua)return 0;for(r=0;r<a.Wb;++r){var n=a.Ya[r].G,i=a.Ya[r].H;if(0<n[1][i[1]+0].g||0<n[2][i[2]+0].g||0<n[3][i[3]+0].g)return 0}return 1}function zc(a,r,n,i,t,e){if(0!=a.Z){var f=a.qd,u=a.rd;for(x(null!=Ar[a.Z]);r<n;++r)Ar[a.Z](f,u,i,t,i,t,e),f=i,u=t,t+=e;a.qd=f,a.rd=u}}function Ib(a,r){var n=a.l.ma,i=0==n.Z||1==n.Z?a.l.j:a.C;i=a.C<i?i:a.C;if(x(r<=a.l.o),r>i){var t=a.l.width,e=n.ca,f=n.tb+t*i,u=a.V,o=a.Ba+a.c*i,c=a.gc;x(1==a.ab),x(3==c[0].hc),b(c[0],i,r,u,o,e,f),zc(n,i,r,e,f,t)}a.C=a.Ma=r}function Jb(r,n,i,t,e,f,u){var o=r.$/t,c=r.$%t,l=r.m,b=r.s,d=i+r.$,s=d;e=i+t*e;var h=i+t*f,v=280+b.ua,w=r.Pb?o:16777216,P=0<b.ua?b.Wa:null,g=b.wc,k=d<h?ha(b,c,o):null;x(r.C<f),x(h<=e);var m=!1;a:for(;;){for(;m||d<h;){var A=0;if(o>=w){var V=d-i;x((w=r).Pb),w.wd=w.m,w.xd=V,0<w.s.ua&&$b(w.s.Wa,w.s.vb),w=o+fr}if(c&g||(k=ha(b,c,o)),x(null!=k),k.Qb&&(n[d]=k.qb,m=!0),!m)if(Sa(l),k.jc){A=l,V=n;var p=d,I=k.pd[pb(A)&a-1];x(k.jc),256>I.g?(qb(A,A.u+I.g),V[p]=I.value,A=0):(qb(A,A.u+I.g-256),x(256<=I.value),A=I.value),0==A&&(m=!0)}else A=ua(k.G[0],k.H[0],l);if(l.h)break;if(m||256>A){if(!m)if(k.nd)n[d]=(k.qb|A<<8)>>>0;else{if(Sa(l),m=ua(k.G[1],k.H[1],l),Sa(l),V=ua(k.G[2],k.H[2],l),p=ua(k.G[3],k.H[3],l),l.h)break;n[d]=(p<<24|m<<16|A<<8|V)>>>0}if(m=!1,++d,++c>=t&&(c=0,++o,null!=u&&o<=f&&!(o%16)&&u(r,o),null!=P))for(;s<d;)A=n[s++],P.X[(506832829*A&4294967295)>>>P.Mb]=A}else if(280>A){if(A=ib(A-256,l),V=ua(k.G[4],k.H[4],l),Sa(l),V=nc(t,V=ib(V,l)),l.h)break;if(d-i<V||e-d<A)break a;for(p=0;p<A;++p)n[d+p]=n[d+p-V];for(d+=A,c+=A;c>=t;)c-=t,++o,null!=u&&o<=f&&!(o%16)&&u(r,o);if(x(d<=e),c&g&&(k=ha(b,c,o)),null!=P)for(;s<d;)A=n[s++],P.X[(506832829*A&4294967295)>>>P.Mb]=A}else{if(!(A<v))break a;for(m=A-280,x(null!=P);s<d;)A=n[s++],P.X[(506832829*A&4294967295)>>>P.Mb]=A;A=d,x(!(m>>>(V=P).Xa)),n[A]=V.X[m],m=!0}m||x(l.h==db(l))}if(r.Pb&&l.h&&d<e)x(r.m.h),r.a=5,r.m=r.wd,r.$=r.xd,0<r.s.ua&&$b(r.s.vb,r.s.Wa);else{if(l.h)break a;null!=u&&u(r,o>f?f:o),r.a=0,r.$=d-i}return 1}return r.a=3,0}function Ac(a){x(null!=a),a.vc=null,a.yc=null,a.Ya=null;var r=a.Wa;null!=r&&(r.X=null),a.vb=null,x(null!=a)}function Bc(){var a=new je;return null==a?null:(a.a=0,a.xb=mr,gb("Predictor","VP8LPredictors"),gb("Predictor","VP8LPredictors_C"),gb("PredictorAdd","VP8LPredictorsAdd"),gb("PredictorAdd","VP8LPredictorsAdd_C"),o=Kd,h=Ld,v=Md,w=Nd,P=Od,g=Pd,k=Qd,window.VP8LMapColor32b=l,window.VP8LMapColor8b=d,a)}function rb(r,n,i,t,e){var f=1,u=[r],o=[n],c=t.m,l=t.s,b=null,d=0;a:for(;;){if(i)for(;f&&D(c,1);){var s=u,h=o,v=t,w=1,P=v.m,g=v.gc[v.ab],k=D(P,2);if(v.Oc&1<<k)f=0;else{switch(v.Oc|=1<<k,g.hc=k,g.Ea=s[0],g.nc=h[0],g.K=[null],++v.ab,x(4>=v.ab),k){case 0:case 1:g.b=D(P,3)+2,w=rb(xa(g.Ea,g.b),xa(g.nc,g.b),0,v,g.K),g.K=g.K[0];break;case 3:var m,A=D(P,8)+1,p=16<A?0:4<A?1:2<A?2:3;if(s[0]=xa(g.Ea,p),g.b=p,m=w=rb(A,1,0,v,g.K)){var I,G=A,L=g,R=1<<(8>>L.b),z=V(R);if(null==z)m=0;else{var T=L.K[0],K=L.w;for(z[0]=L.K[0][0],I=1;I<1*G;++I)z[I]=yb(T[K+I],z[I-1]);for(;I<4*R;++I)z[I]=0;L.K[0]=null,L.K[0]=z,m=1}}w=m;break;case 2:break;default:x(0)}f=w}}if(u=u[0],o=o[0],f&&D(c,1)&&!(f=1<=(d=D(c,4))&&11>=d)){t.a=3;break a}var y;if(y=f)r:{var B,C,F,W=t,U=u,j=o,H=d,X=i,E=W.m,S=W.s,J=[null],q=1,Y=0,N=er[H];n:for(;;){if(X&&D(E,1)){var $=D(E,3)+2,Q=xa(U,$),_=xa(j,$),aa=Q*_;if(!rb(Q,_,0,W,J))break n;for(J=J[0],S.xc=$,B=0;B<aa;++B){var ra=J[B]>>8&65535;J[B]=ra,ra>=q&&(q=ra+1)}}if(E.h)break n;for(C=0;5>C;++C){var na=rr[C];!C&&0<H&&(na+=1<<H),Y<na&&(Y=na)}var ia=wa(q*N,O),ta=q,ea=wa(ta,Ub);if(null==ea)var fa=null;else x(65536>=ta),fa=ea;var ua=V(Y);if(null==fa||null==ua||null==ia){W.a=1;break n}var oa=ia;for(B=F=0;B<q;++B){var ca=fa[B],la=ca.G,ba=ca.H,da=0,sa=1,ha=0;for(C=0;5>C;++C){na=rr[C],la[C]=oa,ba[C]=F,!C&&0<H&&(na+=1<<H);i:{var va,Pa=na,ga=W,ka=ua,ma=oa,Aa=F,Va=0,pa=ga.m,Ia=D(pa,1);if(M(ka,0,0,Pa),Ia){var Ga=D(pa,1)+1,La=D(pa,1),Ra=D(pa,0==La?1:8);ka[Ra]=1,2==Ga&&(ka[Ra=D(pa,8)]=1);var Da=1}else{var za=V(19),Ta=D(pa,4)+4;if(19<Ta){ga.a=3;var Ka=0;break i}for(va=0;va<Ta;++va)za[ir[va]]=D(pa,3);var ya=void 0,Ma=void 0,Ba=ga,Ca=za,Fa=Pa,Wa=ka,Ua=0,Oa=Ba.m,ja=8,Ha=wa(128,O);t:for(;Z(Ha,0,7,Ca,19);){if(D(Oa,1)){var Xa=2+2*D(Oa,3);if((ya=2+D(Oa,Xa))>Fa)break t}else ya=Fa;for(Ma=0;Ma<Fa&&ya--;){Sa(Oa);var Ea=Ha[0+(127&pb(Oa))];qb(Oa,Oa.u+Ea.g);var Ja=Ea.value;if(16>Ja)Wa[Ma++]=Ja,0!=Ja&&(ja=Ja);else{var qa=16==Ja,Ya=Ja-16,Na=ar[Ya],$a=D(Oa,_a[Ya])+Na;if(Ma+$a>Fa)break t;for(var Za=qa?ja:0;0<$a--;)Wa[Ma++]=Za}}Ua=1;break t}Ua||(Ba.a=3),Da=Ua}(Da=Da&&!pa.h)&&(Va=Z(ma,Aa,8,ka,Pa)),Da&&0!=Va?Ka=Va:(ga.a=3,Ka=0)}if(0==Ka)break n;if(sa&&1==nr[C]&&(sa=0==oa[F].g),da+=oa[F].g,F+=Ka,3>=C){var Qa,tr=ua[0];for(Qa=1;Qa<na;++Qa)ua[Qa]>tr&&(tr=ua[Qa]);ha+=tr}}if(ca.nd=sa,ca.Qb=0,sa&&(ca.qb=(la[3][ba[3]+0].value<<24|la[1][ba[1]+0].value<<16|la[2][ba[2]+0].value)>>>0,0==da&&256>la[0][ba[0]+0].value&&(ca.Qb=1,ca.qb+=la[0][ba[0]+0].value<<8)),ca.jc=!ca.Qb&&6>ha,ca.jc){var fr,ur=ca;for(fr=0;fr<a;++fr){var or=fr,cr=ur.pd[or],lr=ur.G[0][ur.H[0]+or];256<=lr.value?(cr.g=lr.g+256,cr.value=lr.value):(cr.g=0,cr.value=0,or>>=ub(lr,8,cr),or>>=ub(ur.G[1][ur.H[1]+or],16,cr),or>>=ub(ur.G[2][ur.H[2]+or],0,cr),ub(ur.G[3][ur.H[3]+or],24,cr))}}}S.vc=J,S.Wb=q,S.Ya=fa,S.yc=ia,y=1;break r}y=0}if(!(f=y)){t.a=3;break a}if(0<d){if(l.ua=1<<d,!Zb(l.Wa,d)){t.a=1,f=0;break a}}else l.ua=0;var br=t,dr=u,sr=o,hr=br.s,vr=hr.xc;if(br.c=dr,br.i=sr,hr.md=xa(dr,vr),hr.wc=0==vr?-1:(1<<vr)-1,i){t.xb=kr;break a}if(null==(b=V(u*o))){t.a=1,f=0;break a}f=(f=Jb(t,b,0,u,o,o,null))&&!c.h;break a}return f?(null!=e?e[0]=b:(x(null==b),x(i)),t.$=0,i||Ac(l)):Ac(l),f}function Ec(a,r){var n=a.c*a.i,i=n+r+16*r;return x(a.c<=r),a.V=V(i),null==a.V?(a.Ta=null,a.Ua=0,a.a=1,0):(a.Ta=a.V,a.Ua=a.Ba+n+r,1)}function se(a,r){var n=a.C,i=r-n,t=a.V,e=a.Ba+a.c*n;for(x(r<=a.l.o);0<i;){var f=16<i?16:i,u=a.l.ma,o=a.l.width,c=o*f,l=u.ca,b=u.tb+o*n,d=a.Ta,s=a.Ua;oc(a,f,t,e),oa(d,s,l,b,c),zc(u,n,n+f,l,b,o),i-=f,t+=f*a.c,n+=f}x(n==r),a.C=a.Ma=r}function ue(){this.ub=this.yd=this.td=this.Rb=0}function ve(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function we(){this.Fb=this.Bb=this.Cb=0,this.Zb=V(4),this.Lb=V(4)}function Gc(){this.Yb=wb()}function xe(){this.jb=V(3),this.Wc=Ed([4,8],Gc),this.Xc=Ed([4,17],Gc)}function ye(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new V(4),this.od=new V(4)}function Xa(){this.ld=this.La=this.dd=this.tc=0}function Hc(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kb(){this.ad=V(384),this.Za=0,this.Ob=V(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ae(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xa),this.Y=0,this.ya=Array(new Kb),this.aa=0,this.l=new Oa}function Ic(){this.y=V(16),this.f=V(8),this.ea=V(8)}function Be(){this.cb=this.a=0,this.sc="",this.m=new Wb,this.Od=new ue,this.Kc=new ve,this.ed=new ye,this.Qa=new we,this.Ic=this.$c=this.Aa=0,this.D=new Ae,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=wa(8,Wb),this.ia=0,new F,this.pb=wa(4,ze),this.Pa=new xe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ic),this.Hd=0,this.rb=Array(new Hc),this.sb=0,this.wa=Array(new Xa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kb),this.L=this.aa=0,this.gd=Ed([4,2],Xa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ga(a,r){return 0>a?0:a>r?r:a}function Oa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ce(){var a=new Be;return null!=a&&(a.a=0,a.sc="OK",a.cb=0,a.Xb=0,cr||(cr=De)),a}function T(a,r,n){return 0==a.a&&(a.a=r,a.sc=n,a.cb=0),0}function Jc(a,r,n){return 3<=n&&157==a[r+0]&&1==a[r+1]&&42==a[r+2]}function Kc(a,r){if(null==a)return 0;if(a.a=0,a.sc="OK",null==r)return T(a,2,"null VP8Io passed to VP8GetHeaders()");var n=r.data,i=r.w,t=r.ha;if(4>t)return T(a,7,"Truncated header.");var e=n[i+0]|n[i+1]<<8|n[i+2]<<16,f=a.Od;if(f.Rb=!(1&e),f.td=e>>1&7,f.yd=e>>4&1,f.ub=e>>5,3<f.td)return T(a,3,"Incorrect keyframe parameters.");if(!f.yd)return T(a,4,"Frame not displayable.");i+=3,t-=3;var u=a.Kc;if(f.Rb){if(7>t)return T(a,7,"cannot parse picture header");if(!Jc(n,i,t))return T(a,3,"Bad code word");u.c=16383&(n[i+4]<<8|n[i+3]),u.Td=n[i+4]>>6,u.i=16383&(n[i+6]<<8|n[i+5]),u.Ud=n[i+6]>>6,i+=7,t-=7,a.za=u.c+15>>4,a.Ub=u.i+15>>4,r.width=u.c,r.height=u.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,M((e=a.Pa).jb,0,255,e.jb.length),x(null!=(e=a.Qa)),e.Cb=0,e.Bb=0,e.Fb=1,M(e.Zb,0,0,e.Zb.length),M(e.Lb,0,0,e.Lb)}if(f.ub>t)return T(a,7,"bad partition length");ma(e=a.m,n,i,f.ub),i+=f.ub,t-=f.ub,f.Rb&&(u.Ld=G(e),u.Kd=G(e)),u=a.Qa;var o,c=a.Pa;if(x(null!=e),x(null!=u),u.Cb=G(e),u.Cb){if(u.Bb=G(e),G(e)){for(u.Fb=G(e),o=0;4>o;++o)u.Zb[o]=G(e)?ca(e,7):0;for(o=0;4>o;++o)u.Lb[o]=G(e)?ca(e,6):0}if(u.Bb)for(o=0;3>o;++o)c.jb[o]=G(e)?na(e,8):255}else u.Bb=0;if(e.Ka)return T(a,3,"cannot parse segment header");if((u=a.ed).zd=G(e),u.Tb=na(e,6),u.wb=na(e,3),u.Pc=G(e),u.Pc&&G(e)){for(c=0;4>c;++c)G(e)&&(u.vd[c]=ca(e,6));for(c=0;4>c;++c)G(e)&&(u.od[c]=ca(e,6))}if(a.L=0==u.Tb?0:u.zd?1:2,e.Ka)return T(a,3,"cannot parse filter header");var l=t;if(t=o=i,i=o+l,u=l,a.Xb=(1<<na(a.m,2))-1,l<3*(c=a.Xb))n=7;else{for(o+=3*c,u-=3*c,l=0;l<c;++l){var b=n[t+0]|n[t+1]<<8|n[t+2]<<16;b>u&&(b=u),ma(a.Jc[+l],n,o,b),o+=b,u-=b,t+=3}ma(a.Jc[+c],n,o,u),n=o<i?0:5}if(0!=n)return T(a,n,"cannot parse partitions");for(n=na(o=a.m,7),t=G(o)?ca(o,4):0,i=G(o)?ca(o,4):0,u=G(o)?ca(o,4):0,c=G(o)?ca(o,4):0,o=G(o)?ca(o,4):0,l=a.Qa,b=0;4>b;++b){if(l.Cb){var d=l.Zb[b];l.Fb||(d+=n)}else{if(0<b){a.pb[b]=a.pb[0];continue}d=n}var s=a.pb[b];s.Sc[0]=ur[ga(d+t,127)],s.Sc[1]=or[ga(d+0,127)],s.Eb[0]=2*ur[ga(d+i,127)],s.Eb[1]=101581*or[ga(d+u,127)]>>16,8>s.Eb[1]&&(s.Eb[1]=8),s.Qc[0]=ur[ga(d+c,117)],s.Qc[1]=or[ga(d+o,127)],s.lc=d+o}if(!f.Rb)return T(a,4,"Not a key frame.");for(G(e),f=a.Pa,n=0;4>n;++n){for(t=0;8>t;++t)for(i=0;3>i;++i)for(u=0;11>u;++u)c=K(e,vr[n][t][i][u])?na(e,8):sr[n][t][i][u],f.Wc[n][t].Yb[i][u]=c;for(t=0;17>t;++t)f.Xc[n][t]=f.Wc[n][wr[t]]}return a.kc=G(e),a.kc&&(a.Bd=na(e,8)),a.cb=1}function De(a,r,n,i,t,e,f){var u=r[t].Yb[n];for(n=0;16>t;++t){if(!K(a,u[n+0]))return t;for(;!K(a,u[n+1]);)if(u=r[++t].Yb[0],n=0,16==t)return 16;var o=r[t+1].Yb;if(K(a,u[n+2])){var c=a,l=0;if(K(c,(d=u)[(b=n)+3]))if(K(c,d[b+6])){for(u=0,b=2*(l=K(c,d[b+8]))+(d=K(c,d[b+9+l])),l=0,d=lr[b];d[u];++u)l+=l+K(c,d[u]);l+=3+(8<<b)}else K(c,d[b+7])?(l=7+2*K(c,165),l+=K(c,145)):l=5+K(c,159);else l=K(c,d[b+4])?3+K(c,d[b+5]):2;u=o[2]}else l=1,u=o[1];o=f+br[t],0>(c=a).b&&Qa(c);var b,d=c.b,s=(b=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=s,c.Ca|=1,c.I-=(b+1&s)<<d,e[o]=((l^s)-s)*i[(0<t)+0]}return 16}function Lc(a){var r=a.rb[a.sb-1];r.la=0,r.Na=0,M(a.zc,0,0,a.zc.length),a.ja=0}function Me(a,r){if(null==a)return 0;if(null==r)return T(a,2,"NULL VP8Io parameter in VP8Decode().");if(!a.cb&&!Kc(a,r))return 0;if(x(a.cb),null==r.ac||r.ac(r)){r.ob&&(a.L=0);var n=Sr[a.L];if(2==a.L?(a.yb=0,a.zb=0):(a.yb=r.v-n>>4,a.zb=r.j-n>>4,0>a.yb&&(a.yb=0),0>a.zb&&(a.zb=0)),a.Va=r.o+15+n>>4,a.Hb=r.va+15+n>>4,a.Hb>a.za&&(a.Hb=a.za),a.Va>a.Ub&&(a.Va=a.Ub),0<a.L){var i=a.ed;for(n=0;4>n;++n){var t;if(a.Qa.Cb){var e=a.Qa.Lb[n];a.Qa.Fb||(e+=i.Tb)}else e=i.Tb;for(t=0;1>=t;++t){var f=a.gd[n][t],u=e;if(i.Pc&&(u+=i.vd[0],t&&(u+=i.od[0])),0<(u=0>u?0:63<u?63:u)){var o=u;0<i.wb&&((o=4<i.wb?o>>2:o>>1)>9-i.wb&&(o=9-i.wb)),1>o&&(o=1),f.dd=o,f.tc=2*u+o,f.ld=40<=u?2:15<=u?1:0}else f.tc=0;f.La=t}}}n=0}else T(a,6,"Frame setup failed"),n=a.a;if(n=0==n){if(n){a.$c=0,0<a.Aa||(a.Ic=qr);a:{n=a.Ic;i=4*(o=a.za);var c=32*o,l=o+1,b=0<a.L?o*(0<a.Aa?2:1):0,d=(2==a.Aa?2:1)*o;if((f=i+832+(t=3*(16*n+Sr[a.L])/2*c)+(e=null!=a.Fa&&0<a.Fa.length?a.Kc.c*a.Kc.i:0))!=f)n=0;else{if(f>a.Vb){if(a.Vb=0,a.Ec=V(f),a.Fc=0,null==a.Ec){n=T(a,1,"no memory during frame initialization.");break a}a.Vb=f}f=a.Ec,u=a.Fc,a.Ac=f,a.Bc=u,u+=i,a.Gd=wa(c,Ic),a.Hd=0,a.rb=wa(l+1,Hc),a.sb=1,a.wa=b?wa(b,Xa):null,a.Y=0,a.D.Nb=0,a.D.wa=a.wa,a.D.Y=a.Y,0<a.Aa&&(a.D.Y+=o),x(!0),a.oc=f,a.pc=u,u+=832,a.ya=wa(d,Kb),a.aa=0,a.D.ya=a.ya,a.D.aa=a.aa,2==a.Aa&&(a.D.aa+=o),a.R=16*o,a.B=8*o,o=(c=Sr[a.L])*a.R,c=c/2*a.B,a.sa=f,a.ta=u+o,a.qa=a.sa,a.ra=a.ta+16*n*a.R+c,a.Ha=a.qa,a.Ia=a.ra+8*n*a.B+c,a.$c=0,u+=t,a.mb=e?f:null,a.nb=e?u:null,x(u+e<=a.Fc+a.Vb),Lc(a),M(a.Ac,a.Bc,0,i),n=1}}if(n){if(r.ka=0,r.y=a.sa,r.O=a.ta,r.f=a.qa,r.N=a.ra,r.ea=a.Ha,r.Vd=a.Ia,r.fa=a.R,r.Rc=a.B,r.F=null,r.J=0,!La){for(n=-255;255>=n;++n)ba[255+n]=0>n?-n:n;for(n=-1020;1020>=n;++n)ka[1020+n]=-128>n?-128:127<n?127:n;for(n=-112;112>=n;++n)Va[112+n]=-16>n?-16:15<n?15:n;for(n=-255;510>=n;++n)pa[255+n]=0>n?0:255<n?255:n;La=1}m=Oe,A=Pe,R=Qe,y=Re,B=Se,p=Te,C=Ue,W=Ve,U=We,j=Xe,H=Ye,E=Ze,S=$e,q=af,Y=gd,N=hd,$=bf,Q=cf,gr[0]=df,gr[1]=ef,gr[2]=ff,gr[3]=gf,gr[4]=hf,gr[5]=jf,gr[6]=kf,gr[7]=lf,gr[8]=mf,gr[9]=nf,Pr[0]=of,Pr[1]=pf,Pr[2]=qf,Pr[3]=rf,Pr[4]=sf,Pr[5]=tf,Pr[6]=uf,xr[0]=vf,xr[1]=wf,xr[2]=xf,xr[3]=yf,xr[4]=zf,xr[5]=Af,xr[6]=Bf,n=1}else n=0}n&&(n=function(a,r){for(a.M=0;a.M<a.Va;++a.M){var n,i=a.Jc[a.M&a.Xb],t=a.m,e=a;for(n=0;n<e.za;++n){var f=t,u=e,o=u.Ac,c=u.Bc+4*n,l=u.zc,b=u.ya[u.aa+n];if(u.Qa.Bb?b.$b=K(f,u.Pa.jb[0])?2+K(f,u.Pa.jb[2]):K(f,u.Pa.jb[1]):b.$b=0,u.kc&&(b.Ad=K(f,u.Bd)),b.Za=!K(f,145)+0,b.Za){var d=b.Ob,s=0;for(u=0;4>u;++u){var h,v=l[0+u];for(h=0;4>h;++h){v=hr[o[c+h]][v];for(var w=dr[K(f,v[0])];0<w;)w=dr[2*w+K(f,v[w])];v=-w,o[c+h]=v}I(d,s,o,c,4),s+=4,l[0+u]=v}}else v=K(f,156)?K(f,128)?1:3:K(f,163)?2:0,b.Ob[0]=v,M(o,c,v,4),M(l,0,v,4);b.Dd=K(f,142)?K(f,114)?K(f,183)?1:3:2:0}if(e.m.Ka)return T(a,7,"Premature end-of-partition0 encountered.");for(;a.ja<a.za;++a.ja){if(e=i,f=(t=a).rb[t.sb-1],o=t.rb[t.sb+t.ja],n=t.ya[t.aa+t.ja],c=t.kc?n.Ad:0)f.la=o.la=0,n.Za||(f.Na=o.Na=0),n.Hc=0,n.Gc=0,n.ia=0;else{var P,g;if(f=o,o=e,c=t.Pa.Xc,l=t.ya[t.aa+t.ja],b=t.pb[l.$b],u=l.ad,d=0,s=t.rb[t.sb-1],v=h=0,M(u,d,0,384),l.Za)var k=0,A=c[3];else{w=V(16);var p=f.Na+s.Na;if(p=cr(o,c[1],p,b.Eb,0,w,0),f.Na=s.Na=(0<p)+0,1<p)m(w,0,u,d);else{var G=w[0]+3>>3;for(w=0;256>w;w+=16)u[d+w]=G}k=1,A=c[0]}var L=15&f.la,R=15&s.la;for(w=0;4>w;++w){var D=1&R;for(G=g=0;4>G;++G)L=L>>1|(D=(p=cr(o,A,p=D+(1&L),b.Sc,k,u,d))>k)<<7,g=g<<2|(3<p?3:1<p?2:0!=u[d+0]),d+=16;L>>=4,R=R>>1|D<<7,h=(h<<8|g)>>>0}for(A=L,k=R>>4,P=0;4>P;P+=2){for(g=0,L=f.la>>4+P,R=s.la>>4+P,w=0;2>w;++w){for(D=1&R,G=0;2>G;++G)p=D+(1&L),L=L>>1|(D=0<(p=cr(o,c[2],p,b.Qc,0,u,d)))<<3,g=g<<2|(3<p?3:1<p?2:0!=u[d+0]),d+=16;L>>=2,R=R>>1|D<<5}v|=g<<4*P,A|=L<<4<<P,k|=(240&R)<<P}f.la=A,s.la=k,l.Hc=h,l.Gc=v,l.ia=43690&v?0:b.ia,c=!(h|v)}if(0<t.L&&(t.wa[t.Y+t.ja]=t.gd[n.$b][n.Za],t.wa[t.Y+t.ja].La|=!c),e.Ka)return T(a,7,"Premature end-of-file encountered.")}if(Lc(a),t=r,e=1,n=(i=a).D,f=0<i.L&&i.M>=i.zb&&i.M<=i.Va,0==i.Aa)a:{if(n.M=i.M,n.uc=f,Oc(i,n),e=1,n=(g=i.D).Nb,f=(v=Sr[i.L])*i.R,o=v/2*i.B,w=16*n*i.R,G=8*n*i.B,c=i.sa,l=i.ta-f+w,b=i.qa,u=i.ra-o+G,d=i.Ha,s=i.Ia-o+G,R=0==(L=g.M),h=L>=i.Va-1,2==i.Aa&&Oc(i,g),g.uc)for(D=(p=i).D.M,x(p.D.uc),g=p.yb;g<p.Hb;++g){k=g,A=D;var z=(y=(ra=p).D).Nb;P=ra.R;var y=y.wa[y.Y+k],B=ra.sa,F=ra.ta+16*z*P+16*k,O=y.dd,X=y.tc;if(0!=X)if(x(3<=X),1==ra.L)0<k&&N(B,F,P,X+4),y.La&&Q(B,F,P,X),0<A&&Y(B,F,P,X+4),y.La&&$(B,F,P,X);else{var J=ra.B,Z=ra.qa,_=ra.ra+8*z*J+8*k,aa=ra.Ha,ra=ra.Ia+8*z*J+8*k;z=y.ld,0<k&&(W(B,F,P,X+4,O,z),j(Z,_,aa,ra,J,X+4,O,z)),y.La&&(E(B,F,P,X,O,z),q(Z,_,aa,ra,J,X,O,z)),0<A&&(C(B,F,P,X+4,O,z),U(Z,_,aa,ra,J,X+4,O,z)),y.La&&(H(B,F,P,X,O,z),S(Z,_,aa,ra,J,X,O,z))}}if(i.ia&&alert("todo:DitherRow"),null!=t.put){if(g=16*L,L=16*(L+1),R?(t.y=i.sa,t.O=i.ta+w,t.f=i.qa,t.N=i.ra+G,t.ea=i.Ha,t.W=i.Ia+G):(g-=v,t.y=c,t.O=l,t.f=b,t.N=u,t.ea=d,t.W=s),h||(L-=v),L>t.o&&(L=t.o),t.F=null,t.J=null,null!=i.Fa&&0<i.Fa.length&&g<L&&(t.J=Le(i,t,g,L-g),t.F=i.mb,null==t.F&&0==t.F.length)){e=T(i,3,"Could not decode alpha data.");break a}g<t.j&&(v=t.j-g,g=t.j,x(!(1&v)),t.O+=i.R*v,t.N+=i.B*(v>>1),t.W+=i.B*(v>>1),null!=t.F&&(t.J+=t.width*v)),g<L&&(t.O+=t.v,t.N+=t.v>>1,t.W+=t.v>>1,null!=t.F&&(t.J+=t.v),t.ka=g-t.j,t.U=t.va-t.v,t.T=L-g,e=t.put(t))}n+1!=i.Ic||h||(I(i.sa,i.ta-f,c,l+16*i.R,f),I(i.qa,i.ra-o,b,u+8*i.B,o),I(i.Ha,i.Ia-o,d,s+8*i.B,o))}if(!e)return T(a,6,"Output aborted.")}return 1}(a,r)),null!=r.bc&&r.bc(r),n&=1}return n?(a.cb=0,n):0}function qa(a,r,n,i,t){t=a[r+n+32*i]+(t>>3),a[r+n+32*i]=-256&t?0>t?0:255:t}function kb(a,r,n,i,t,e){qa(a,r,0,n,i+t),qa(a,r,1,n,i+e),qa(a,r,2,n,i-e),qa(a,r,3,n,i-t)}function da(a){return(20091*a>>16)+a}function id(a,r,n,i){var t,e=0,f=V(16);for(t=0;4>t;++t){var u=a[r+0]+a[r+8],o=a[r+0]-a[r+8],c=(35468*a[r+4]>>16)-da(a[r+12]),l=da(a[r+4])+(35468*a[r+12]>>16);f[e+0]=u+l,f[e+1]=o+c,f[e+2]=o-c,f[e+3]=u-l,e+=4,r++}for(t=e=0;4>t;++t)u=(a=f[e+0]+4)+f[e+8],o=a-f[e+8],c=(35468*f[e+4]>>16)-da(f[e+12]),qa(n,i,0,0,u+(l=da(f[e+4])+(35468*f[e+12]>>16))),qa(n,i,1,0,o+c),qa(n,i,2,0,o-c),qa(n,i,3,0,u-l),e++,i+=32}function Te(a,r,n,i){var t=a[r+0]+4,e=35468*a[r+4]>>16,f=da(a[r+4]),u=35468*a[r+1]>>16;kb(n,i,0,t+f,a=da(a[r+1]),u),kb(n,i,1,t+e,a,u),kb(n,i,2,t-e,a,u),kb(n,i,3,t-f,a,u)}function Pe(a,r,n,i,t){id(a,r,n,i),t&&id(a,r+16,n,i+4)}function Qe(a,r,n,i){A(a,r+0,n,i,1),A(a,r+32,n,i+128,1)}function Re(a,r,n,i){var t;for(a=a[r+0]+4,t=0;4>t;++t)for(r=0;4>r;++r)qa(n,i,r,t,a)}function Se(a,r,n,i){a[r+0]&&y(a,r+0,n,i),a[r+16]&&y(a,r+16,n,i+4),a[r+32]&&y(a,r+32,n,i+128),a[r+48]&&y(a,r+48,n,i+128+4)}function Oe(a,r,n,i){var t,e=V(16);for(t=0;4>t;++t){var f=a[r+0+t]+a[r+12+t],u=a[r+4+t]+a[r+8+t],o=a[r+4+t]-a[r+8+t],c=a[r+0+t]-a[r+12+t];e[0+t]=f+u,e[8+t]=f-u,e[4+t]=c+o,e[12+t]=c-o}for(t=0;4>t;++t)f=(a=e[0+4*t]+3)+e[3+4*t],u=e[1+4*t]+e[2+4*t],o=e[1+4*t]-e[2+4*t],c=a-e[3+4*t],n[i+0]=f+u>>3,n[i+16]=c+o>>3,n[i+32]=f-u>>3,n[i+48]=c-o>>3,i+=64}function Pb(a,r,n){var i,t=r-32,e=Ka,f=255-a[t-1];for(i=0;i<n;++i){var u,o=e,c=f+a[r-1];for(u=0;u<n;++u)a[r+u]=o[c+a[t+u]];r+=32}}function ef(a,r){Pb(a,r,4)}function wf(a,r){Pb(a,r,8)}function pf(a,r){Pb(a,r,16)}function qf(a,r){var n;for(n=0;16>n;++n)I(a,r+32*n,a,r-32,16)}function rf(a,r){var n;for(n=16;0<n;--n)M(a,r,a[r-1],16),r+=32}function $a(a,r,n){var i;for(i=0;16>i;++i)M(r,n+32*i,a,16)}function of(a,r){var n,i=16;for(n=0;16>n;++n)i+=a[r-1+32*n]+a[r+n-32];$a(i>>5,a,r)}function sf(a,r){var n,i=8;for(n=0;16>n;++n)i+=a[r-1+32*n];$a(i>>4,a,r)}function tf(a,r){var n,i=8;for(n=0;16>n;++n)i+=a[r+n-32];$a(i>>4,a,r)}function uf(a,r){$a(128,a,r)}function z(a,r,n){return a+2*r+n+2>>2}function ff(a,r){var n,i=r-32;i=new Uint8Array([z(a[i-1],a[i+0],a[i+1]),z(a[i+0],a[i+1],a[i+2]),z(a[i+1],a[i+2],a[i+3]),z(a[i+2],a[i+3],a[i+4])]);for(n=0;4>n;++n)I(a,r+32*n,i,0,i.length)}function gf(a,r){var n=a[r-1],i=a[r-1+32],t=a[r-1+64],e=a[r-1+96];ra(a,r+0,16843009*z(a[r-1-32],n,i)),ra(a,r+32,16843009*z(n,i,t)),ra(a,r+64,16843009*z(i,t,e)),ra(a,r+96,16843009*z(t,e,e))}function df(a,r){var n,i=4;for(n=0;4>n;++n)i+=a[r+n-32]+a[r-1+32*n];for(i>>=3,n=0;4>n;++n)M(a,r+32*n,i,4)}function hf(a,r){var n=a[r-1+0],i=a[r-1+32],t=a[r-1+64],e=a[r-1-32],f=a[r+0-32],u=a[r+1-32],o=a[r+2-32],c=a[r+3-32];a[r+0+96]=z(i,t,a[r-1+96]),a[r+1+96]=a[r+0+64]=z(n,i,t),a[r+2+96]=a[r+1+64]=a[r+0+32]=z(e,n,i),a[r+3+96]=a[r+2+64]=a[r+1+32]=a[r+0+0]=z(f,e,n),a[r+3+64]=a[r+2+32]=a[r+1+0]=z(u,f,e),a[r+3+32]=a[r+2+0]=z(o,u,f),a[r+3+0]=z(c,o,u)}function kf(a,r){var n=a[r+1-32],i=a[r+2-32],t=a[r+3-32],e=a[r+4-32],f=a[r+5-32],u=a[r+6-32],o=a[r+7-32];a[r+0+0]=z(a[r+0-32],n,i),a[r+1+0]=a[r+0+32]=z(n,i,t),a[r+2+0]=a[r+1+32]=a[r+0+64]=z(i,t,e),a[r+3+0]=a[r+2+32]=a[r+1+64]=a[r+0+96]=z(t,e,f),a[r+3+32]=a[r+2+64]=a[r+1+96]=z(e,f,u),a[r+3+64]=a[r+2+96]=z(f,u,o),a[r+3+96]=z(u,o,o)}function jf(a,r){var n=a[r-1+0],i=a[r-1+32],t=a[r-1+64],e=a[r-1-32],f=a[r+0-32],u=a[r+1-32],o=a[r+2-32],c=a[r+3-32];a[r+0+0]=a[r+1+64]=e+f+1>>1,a[r+1+0]=a[r+2+64]=f+u+1>>1,a[r+2+0]=a[r+3+64]=u+o+1>>1,a[r+3+0]=o+c+1>>1,a[r+0+96]=z(t,i,n),a[r+0+64]=z(i,n,e),a[r+0+32]=a[r+1+96]=z(n,e,f),a[r+1+32]=a[r+2+96]=z(e,f,u),a[r+2+32]=a[r+3+96]=z(f,u,o),a[r+3+32]=z(u,o,c)}function lf(a,r){var n=a[r+0-32],i=a[r+1-32],t=a[r+2-32],e=a[r+3-32],f=a[r+4-32],u=a[r+5-32],o=a[r+6-32],c=a[r+7-32];a[r+0+0]=n+i+1>>1,a[r+1+0]=a[r+0+64]=i+t+1>>1,a[r+2+0]=a[r+1+64]=t+e+1>>1,a[r+3+0]=a[r+2+64]=e+f+1>>1,a[r+0+32]=z(n,i,t),a[r+1+32]=a[r+0+96]=z(i,t,e),a[r+2+32]=a[r+1+96]=z(t,e,f),a[r+3+32]=a[r+2+96]=z(e,f,u),a[r+3+64]=z(f,u,o),a[r+3+96]=z(u,o,c)}function nf(a,r){var n=a[r-1+0],i=a[r-1+32],t=a[r-1+64],e=a[r-1+96];a[r+0+0]=n+i+1>>1,a[r+2+0]=a[r+0+32]=i+t+1>>1,a[r+2+32]=a[r+0+64]=t+e+1>>1,a[r+1+0]=z(n,i,t),a[r+3+0]=a[r+1+32]=z(i,t,e),a[r+3+32]=a[r+1+64]=z(t,e,e),a[r+3+64]=a[r+2+64]=a[r+0+96]=a[r+1+96]=a[r+2+96]=a[r+3+96]=e}function mf(a,r){var n=a[r-1+0],i=a[r-1+32],t=a[r-1+64],e=a[r-1+96],f=a[r-1-32],u=a[r+0-32],o=a[r+1-32],c=a[r+2-32];a[r+0+0]=a[r+2+32]=n+f+1>>1,a[r+0+32]=a[r+2+64]=i+n+1>>1,a[r+0+64]=a[r+2+96]=t+i+1>>1,a[r+0+96]=e+t+1>>1,a[r+3+0]=z(u,o,c),a[r+2+0]=z(f,u,o),a[r+1+0]=a[r+3+32]=z(n,f,u),a[r+1+32]=a[r+3+64]=z(i,n,f),a[r+1+64]=a[r+3+96]=z(t,i,n),a[r+1+96]=z(e,t,i)}function xf(a,r){var n;for(n=0;8>n;++n)I(a,r+32*n,a,r-32,8)}function yf(a,r){var n;for(n=0;8>n;++n)M(a,r,a[r-1],8),r+=32}function lb(a,r,n){var i;for(i=0;8>i;++i)M(r,n+32*i,a,8)}function vf(a,r){var n,i=8;for(n=0;8>n;++n)i+=a[r+n-32]+a[r-1+32*n];lb(i>>4,a,r)}function Af(a,r){var n,i=4;for(n=0;8>n;++n)i+=a[r+n-32];lb(i>>3,a,r)}function zf(a,r){var n,i=4;for(n=0;8>n;++n)i+=a[r-1+32*n];lb(i>>3,a,r)}function Bf(a,r){lb(128,a,r)}function ab(a,r,n){var i=a[r-n],t=a[r+0],e=3*(t-i)+Da[1020+a[r-2*n]-a[r+n]],f=za[112+(e+4>>3)];a[r-n]=Ka[255+i+za[112+(e+3>>3)]],a[r+0]=Ka[255+t-f]}function jd(a,r,n,i){var t=a[r+0],e=a[r+n];return ya[255+a[r-2*n]-a[r-n]]>i||ya[255+e-t]>i}function kd(a,r,n,i){return 4*ya[255+a[r-n]-a[r+0]]+ya[255+a[r-2*n]-a[r+n]]<=i}function ld(a,r,n,i,t){var e=a[r-3*n],f=a[r-2*n],u=a[r-n],o=a[r+0],c=a[r+n],l=a[r+2*n],b=a[r+3*n];return 4*ya[255+u-o]+ya[255+f-c]>i?0:ya[255+a[r-4*n]-e]<=t&&ya[255+e-f]<=t&&ya[255+f-u]<=t&&ya[255+b-l]<=t&&ya[255+l-c]<=t&&ya[255+c-o]<=t}function gd(a,r,n,i){var t=2*i+1;for(i=0;16>i;++i)kd(a,r+i,n,t)&&ab(a,r+i,n)}function hd(a,r,n,i){var t=2*i+1;for(i=0;16>i;++i)kd(a,r+i*n,1,t)&&ab(a,r+i*n,1)}function bf(a,r,n,i){var t;for(t=3;0<t;--t)gd(a,r+=4*n,n,i)}function cf(a,r,n,i){var t;for(t=3;0<t;--t)hd(a,r+=4,n,i)}function ea(a,r,n,i,t,e,f,u){for(e=2*e+1;0<t--;){if(ld(a,r,n,e,f))if(jd(a,r,n,u))ab(a,r,n);else{var o=a,c=r,l=n,b=o[c-2*l],d=o[c-l],s=o[c+0],h=o[c+l],v=o[c+2*l],w=27*(g=Da[1020+3*(s-d)+Da[1020+b-h]])+63>>7,P=18*g+63>>7,g=9*g+63>>7;o[c-3*l]=Ka[255+o[c-3*l]+g],o[c-2*l]=Ka[255+b+P],o[c-l]=Ka[255+d+w],o[c+0]=Ka[255+s-w],o[c+l]=Ka[255+h-P],o[c+2*l]=Ka[255+v-g]}r+=i}}function Fa(a,r,n,i,t,e,f,u){for(e=2*e+1;0<t--;){if(ld(a,r,n,e,f))if(jd(a,r,n,u))ab(a,r,n);else{var o=a,c=r,l=n,b=o[c-l],d=o[c+0],s=o[c+l],h=za[112+((v=3*(d-b))+4>>3)],v=za[112+(v+3>>3)],w=h+1>>1;o[c-2*l]=Ka[255+o[c-2*l]+w],o[c-l]=Ka[255+b+v],o[c+0]=Ka[255+d-h],o[c+l]=Ka[255+s-w]}r+=i}}function Ue(a,r,n,i,t,e){ea(a,r,n,1,16,i,t,e)}function Ve(a,r,n,i,t,e){ea(a,r,1,n,16,i,t,e)}function Ye(a,r,n,i,t,e){var f;for(f=3;0<f;--f)Fa(a,r+=4*n,n,1,16,i,t,e)}function Ze(a,r,n,i,t,e){var f;for(f=3;0<f;--f)Fa(a,r+=4,1,n,16,i,t,e)}function We(a,r,n,i,t,e,f,u){ea(a,r,t,1,8,e,f,u),ea(n,i,t,1,8,e,f,u)}function Xe(a,r,n,i,t,e,f,u){ea(a,r,1,t,8,e,f,u),ea(n,i,1,t,8,e,f,u)}function $e(a,r,n,i,t,e,f,u){Fa(a,r+4*t,t,1,8,e,f,u),Fa(n,i+4*t,t,1,8,e,f,u)}function af(a,r,n,i,t,e,f,u){Fa(a,r+4,1,t,8,e,f,u),Fa(n,i+4,1,t,8,e,f,u)}function Cf(){this.ba=new Cb,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ud,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function md(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Df(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ef(){this.ua=0,this.Wa=new ac,this.vb=new ac,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ub,this.yc=new O}function je(){this.xb=this.a=0,this.l=new Oa,this.ca=new Cb,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Ra,this.Pb=0,this.wd=new Ra,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ef,this.ab=0,this.gc=wa(4,Df),this.Oc=0}function Ff(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Rb(a,r,n,i,t,e,f){for(a=null==a?0:a[r+0],r=0;r<f;++r)t[e+r]=a+n[i+r]&255,a=t[e+r]}function Gf(a,r,n,i,t,e,f){var u;if(null==a)Rb(null,null,n,i,t,e,f);else for(u=0;u<f;++u)t[e+u]=a[r+u]+n[i+u]&255}function Hf(a,r,n,i,t,e,f){if(null==a)Rb(null,null,n,i,t,e,f);else{var u,o=a[r+0],c=o,l=o;for(u=0;u<f;++u)c=l+(o=a[r+u])-c,l=n[i+u]+(-256&c?0>c?0:255:c)&255,c=o,t[e+u]=l}}function Le(a,r,n,i){var t=r.width,e=r.o;if(x(null!=a&&null!=r),0>n||0>=i||n+i>e)return null;if(!a.Cc){if(null==a.ga){var f;if(a.ga=new Ff,(f=null==a.ga)||(f=r.width*r.o,x(0==a.Gb.length),a.Gb=V(f),a.Uc=0,null==a.Gb?f=0:(a.mb=a.Gb,a.nb=a.Uc,a.rc=null,f=1),f=!f),!f){f=a.ga;var u=a.Fa,o=a.P,c=a.qc,l=a.mb,b=a.nb,d=o+1,s=c-1,h=f.l;if(x(null!=u&&null!=l&&null!=r),Ar[0]=null,Ar[1]=Rb,Ar[2]=Gf,Ar[3]=Hf,f.ca=l,f.tb=b,f.c=r.width,f.i=r.height,x(0<f.c&&0<f.i),1>=c)r=0;else if(f.$a=u[o+0]>>0&3,f.Z=u[o+0]>>2&3,f.Lc=u[o+0]>>4&3,o=u[o+0]>>6&3,0>f.$a||1<f.$a||4<=f.Z||1<f.Lc||o)r=0;else if(h.put=kc,h.ac=gc,h.bc=lc,h.ma=f,h.width=r.width,h.height=r.height,h.Da=r.Da,h.v=r.v,h.va=r.va,h.j=r.j,h.o=r.o,f.$a)a:{x(1==f.$a),r=Bc();r:for(;;){if(null==r){r=0;break a}if(x(null!=f),f.mc=r,r.c=f.c,r.i=f.i,r.l=f.l,r.l.ma=f,r.l.width=f.c,r.l.height=f.i,r.a=0,cb(r.m,u,d,s),!rb(f.c,f.i,1,r,null))break r;if(1==r.ab&&3==r.gc[0].hc&&yc(r.s)?(f.ic=1,u=r.c*r.i,r.Ta=null,r.Ua=0,r.V=V(u),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(f.ic=0,r=Ec(r,f.c)),!r)break r;r=1;break a}f.mc=null,r=0}else r=s>=f.c*f.i;f=!r}if(f)return null;1!=a.ga.Lc?a.Ga=0:i=e-n}x(null!=a.ga),x(n+i<=e);a:{if(r=(u=a.ga).c,e=u.l.o,0==u.$a){if(d=a.rc,s=a.Vc,h=a.Fa,o=a.P+1+n*r,c=a.mb,l=a.nb+n*r,x(o<=a.P+a.qc),0!=u.Z)for(x(null!=Ar[u.Z]),f=0;f<i;++f)Ar[u.Z](d,s,h,o,c,l,r),d=c,s=l,l+=r,o+=r;else for(f=0;f<i;++f)I(c,l,h,o,r),d=c,s=l,l+=r,o+=r;a.rc=d,a.Vc=s}else{if(x(null!=u.mc),r=n+i,x(null!=(f=u.mc)),x(r<=f.i),f.C>=r)r=1;else if(u.ic||Aa(),u.ic){u=f.V,d=f.Ba,s=f.c;var v=f.i,w=(h=1,o=f.$/s,c=f.$%s,l=f.m,b=f.s,f.$),P=s*v,g=s*r,k=b.wc,m=w<g?ha(b,c,o):null;x(w<=P),x(r<=v),x(yc(b));r:for(;;){for(;!l.h&&w<g;){if(c&k||(m=ha(b,c,o)),x(null!=m),Sa(l),256>(v=ua(m.G[0],m.H[0],l)))u[d+w]=v,++w,++c>=s&&(c=0,++o<=r&&!(o%16)&&Ib(f,o));else{if(!(280>v)){h=0;break r}v=ib(v-256,l);var A,p=ua(m.G[4],m.H[4],l);if(Sa(l),!(w>=(p=nc(s,p=ib(p,l)))&&P-w>=v)){h=0;break r}for(A=0;A<v;++A)u[d+w+A]=u[d+w+A-p];for(w+=v,c+=v;c>=s;)c-=s,++o<=r&&!(o%16)&&Ib(f,o);w<g&&c&k&&(m=ha(b,c,o))}x(l.h==db(l))}Ib(f,o>r?r:o);break r}!h||l.h&&w<P?(h=0,f.a=l.h?5:3):f.$=w,r=h}else r=Jb(f,f.V,f.Ba,f.c,f.i,r,se);if(!r){i=0;break a}}n+i>=e&&(a.Cc=1),i=1}if(!i)return null;if(a.Cc&&(null!=(i=a.ga)&&(i.mc=null),a.ga=null,0<a.Ga))return alert("todo:WebPDequantizeLevels"),null}return a.nb+n*t}function If(a,r,n,i,t,e){for(;0<t--;){var f,u=a,o=r+(n?1:0),c=a,l=r+(n?0:3);for(f=0;f<i;++f){var b=c[l+4*f];255!=b&&(b*=32897,u[o+4*f+0]=u[o+4*f+0]*b>>23,u[o+4*f+1]=u[o+4*f+1]*b>>23,u[o+4*f+2]=u[o+4*f+2]*b>>23)}r+=e}}function Jf(a,r,n,i,t){for(;0<i--;){var e;for(e=0;e<n;++e){var f=a[r+2*e+0],u=15&(c=a[r+2*e+1]),o=4369*u,c=(240&c|c>>4)*o>>16;a[r+2*e+0]=(240&f|f>>4)*o>>16&240|(15&f|f<<4)*o>>16>>4&15,a[r+2*e+1]=240&c|u}r+=t}}function Kf(a,r,n,i,t,e,f,u){var o,c,l=255;for(c=0;c<t;++c){for(o=0;o<i;++o){var b=a[r+o];e[f+4*o]=b,l&=b}r+=n,f+=u}return 255!=l}function Lf(a,r,n,i,t){var e;for(e=0;e<t;++e)n[i+e]=a[r+e]>>8}function Aa(){_=If,ia=Jf,ta=Kf,oa=Lf}function va(a,r,n){window[a]=function(a,i,t,e,f,u,o,c,l,b,d,s,h,v,w,P,g){var k,m=g-1>>1,A=f[u+0]|o[c+0]<<16,V=l[b+0]|d[s+0]<<16;x(null!=a);var p=3*A+V+131074>>2;for(r(a[i+0],255&p,p>>16,h,v),null!=t&&(p=3*V+A+131074>>2,r(t[e+0],255&p,p>>16,w,P)),k=1;k<=m;++k){var I=f[u+k]|o[c+k]<<16,G=l[b+k]|d[s+k]<<16,L=A+I+V+G+524296,R=L+2*(I+V)>>3;p=R+A>>1,A=(L=L+2*(A+G)>>3)+I>>1,r(a[i+2*k-1],255&p,p>>16,h,v+(2*k-1)*n),r(a[i+2*k-0],255&A,A>>16,h,v+(2*k-0)*n),null!=t&&(p=L+V>>1,A=R+G>>1,r(t[e+2*k-1],255&p,p>>16,w,P+(2*k-1)*n),r(t[e+2*k+0],255&A,A>>16,w,P+(2*k+0)*n)),A=I,V=G}1&g||(p=3*A+V+131074>>2,r(a[i+g-1],255&p,p>>16,h,v+(g-1)*n),null!=t&&(p=3*V+A+131074>>2,r(t[e+g-1],255&p,p>>16,w,P+(g-1)*n)))}}function ic(){Vr[Ma]=pr,Vr[Ba]=Gr,Vr[Ca]=Ir,Vr[Wa]=Lr,Vr[Ua]=Rr,Vr[ja]=Dr,Vr[Ea]=zr,Vr[Ja]=Gr,Vr[Ya]=Lr,Vr[Na]=Rr,Vr[Za]=Dr}function Sb(a){return a&~Cr?0>a?0:255:a>>Br}function bb(a,r){return Sb((19077*a>>8)+(26149*r>>8)-14234)}function nb(a,r,n){return Sb((19077*a>>8)-(6419*r>>8)-(13320*n>>8)+8708)}function Pa(a,r){return Sb((19077*a>>8)+(33050*r>>8)-17685)}function Ga(a,r,n,i,t){i[t+0]=bb(a,n),i[t+1]=nb(a,r,n),i[t+2]=Pa(a,r)}function Tb(a,r,n,i,t){i[t+0]=Pa(a,r),i[t+1]=nb(a,r,n),i[t+2]=bb(a,n)}function sd(a,r,n,i,t){var e=nb(a,r,n);r=e<<3&224|Pa(a,r)>>3,i[t+0]=248&bb(a,n)|e>>5,i[t+1]=r}function td(a,r,n,i,t){var e=240&Pa(a,r)|15;i[t+0]=240&bb(a,n)|nb(a,r,n)>>4,i[t+1]=e}function ud(a,r,n,i,t){i[t+0]=255,Ga(a,r,n,i,t+1)}function vd(a,r,n,i,t){Tb(a,r,n,i,t),i[t+3]=255}function wd(a,r,n,i,t){Ga(a,r,n,i,t),i[t+3]=255}function ga(a,r){return 0>a?0:a>r?r:a}function la(a,r,n){window[a]=function(a,i,t,e,f,u,o,c,l){for(var b=c+(-2&l)*n;c!=b;)r(a[i+0],t[e+0],f[u+0],o,c),r(a[i+1],t[e+0],f[u+0],o,c+n),i+=2,++e,++u,c+=2*n;1&l&&r(a[i+0],t[e+0],f[u+0],o,c)}}function xd(a,r,n){return 0==n?0==a?0==r?6:5:0==r?4:0:n}function yd(a,r,n,i,t){switch(a>>>30){case 3:A(r,n,i,t,0);break;case 2:p(r,n,i,t);break;case 1:y(r,n,i,t)}}function Oc(a,r){var n,i,t=r.M,e=r.Nb,f=a.oc,u=a.pc+40,o=a.oc,c=a.pc+584,l=a.oc,b=a.pc+600;for(n=0;16>n;++n)f[u+32*n-1]=129;for(n=0;8>n;++n)o[c+32*n-1]=129,l[b+32*n-1]=129;for(0<t?f[u-1-32]=o[c-1-32]=l[b-1-32]=129:(M(f,u-32-1,127,21),M(o,c-32-1,127,9),M(l,b-32-1,127,9)),i=0;i<a.za;++i){var d=r.ya[r.aa+i];if(0<i){for(n=-1;16>n;++n)I(f,u+32*n-4,f,u+32*n+12,4);for(n=-1;8>n;++n)I(o,c+32*n-4,o,c+32*n+4,4),I(l,b+32*n-4,l,b+32*n+4,4)}var s=a.Gd,h=a.Hd+i,v=d.ad,w=d.Hc;if(0<t&&(I(f,u-32,s[h].y,0,16),I(o,c-32,s[h].f,0,8),I(l,b-32,s[h].ea,0,8)),d.Za){var P=f,g=u-32+16;for(0<t&&(i>=a.za-1?M(P,g,s[h].y[15],4):I(P,g,s[h+1].y,0,4)),n=0;4>n;n++)P[g+128+n]=P[g+256+n]=P[g+384+n]=P[g+0+n];for(n=0;16>n;++n,w<<=2)P=f,g=u+Er[n],gr[d.Ob[n]](P,g),yd(w,v,16*+n,P,g)}else if(P=xd(i,t,d.Ob[0]),Pr[P](f,u),0!=w)for(n=0;16>n;++n,w<<=2)yd(w,v,16*+n,f,u+Er[n]);for(n=d.Gc,P=xd(i,t,d.Dd),xr[P](o,c),xr[P](l,b),w=v,P=o,g=c,255&(d=n>>0)&&(170&d?R(w,256,P,g):B(w,256,P,g)),d=l,w=b,255&(n>>=8)&&(170&n?R(v,320,d,w):B(v,320,d,w)),t<a.Ub-1&&(I(s[h].y,0,f,u+480,16),I(s[h].f,0,o,c+224,8),I(s[h].ea,0,l,b+224,8)),n=8*e*a.B,s=a.sa,h=a.ta+16*i+16*e*a.R,v=a.qa,d=a.ra+8*i+n,w=a.Ha,P=a.Ia+8*i+n,n=0;16>n;++n)I(s,h+n*a.R,f,u+32*n,16);for(n=0;8>n;++n)I(v,d+n*a.B,o,c+32*n,8),I(w,P+n*a.B,l,b+32*n,8)}}function Ad(a,r,n,i,t,e,f,u,o){var c=[0],l=[0],b=0,d=null!=o?o.kd:0,s=null!=o?o:new md;if(null==a||12>n)return 7;s.data=a,s.w=r,s.ha=n,r=[r],n=[n],s.gb=[s.gb];a:{var h=r,v=n,w=s.gb;if(x(null!=a),x(null!=v),x(null!=w),w[0]=0,12<=v[0]&&!fa(a,h[0],"RIFF")){if(fa(a,h[0]+8,"WEBP")){w=3;break a}var P=Ha(a,h[0]+4);if(12>P||4294967286<P){w=3;break a}if(d&&P>v[0]-8){w=7;break a}w[0]=P,h[0]+=12,v[0]-=12}w=0}if(0!=w)return w;for(P=0<s.gb[0],n=n[0];;){a:{var g=a;v=r,w=n;var k=c,m=l,A=h=[0];if((I=b=[b])[0]=0,8>w[0])w=7;else{if(!fa(g,v[0],"VP8X")){if(10!=Ha(g,v[0]+4)){w=3;break a}if(18>w[0]){w=7;break a}var V=Ha(g,v[0]+8),p=1+Yb(g,v[0]+12);if(2147483648<=p*(g=1+Yb(g,v[0]+15))){w=3;break a}null!=A&&(A[0]=V),null!=k&&(k[0]=p),null!=m&&(m[0]=g),v[0]+=18,w[0]-=18,I[0]=1}w=0}}if(b=b[0],h=h[0],0!=w)return w;if(v=!!(2&h),!P&&b)return 3;if(null!=e&&(e[0]=!!(16&h)),null!=f&&(f[0]=v),null!=u&&(u[0]=0),f=c[0],h=l[0],b&&v&&null==o){w=0;break}if(4>n){w=7;break}if(P&&b||!P&&!b&&!fa(a,r[0],"ALPH")){n=[n],s.na=[s.na],s.P=[s.P],s.Sa=[s.Sa];a:{V=a,w=r,P=n;var I=s.gb;k=s.na,m=s.P,A=s.Sa;p=22,x(null!=V),x(null!=P),g=w[0];var G=P[0];for(x(null!=k),x(null!=A),k[0]=null,m[0]=null,A[0]=0;;){if(w[0]=g,P[0]=G,8>G){w=7;break a}var L=Ha(V,g+4);if(4294967286<L){w=3;break a}var R=8+L+1&-2;if(p+=R,0<I&&p>I){w=3;break a}if(!fa(V,g,"VP8 ")||!fa(V,g,"VP8L")){w=0;break a}if(G[0]<R){w=7;break a}fa(V,g,"ALPH")||(k[0]=V,m[0]=g+8,A[0]=L),g+=R,G-=R}}if(n=n[0],s.na=s.na[0],s.P=s.P[0],s.Sa=s.Sa[0],0!=w)break}n=[n],s.Ja=[s.Ja],s.xa=[s.xa];a:if(I=a,w=r,P=n,k=s.gb[0],m=s.Ja,A=s.xa,V=w[0],g=!fa(I,V,"VP8 "),p=!fa(I,V,"VP8L"),x(null!=I),x(null!=P),x(null!=m),x(null!=A),8>P[0])w=7;else{if(g||p){if(I=Ha(I,V+4),12<=k&&I>k-12){w=3;break a}if(d&&I>P[0]-8){w=7;break a}m[0]=I,w[0]+=8,P[0]-=8,A[0]=p}else A[0]=5<=P[0]&&47==I[V+0]&&!(I[V+4]>>5),m[0]=P[0];w=0}if(n=n[0],s.Ja=s.Ja[0],s.xa=s.xa[0],r=r[0],0!=w)break;if(4294967286<s.Ja)return 3;if(null==u||v||(u[0]=s.xa?2:1),f=[f],h=[h],s.xa){if(5>n){w=7;break}u=f,d=h,v=e,null==a||5>n?a=0:5<=n&&47==a[r+0]&&!(a[r+4]>>5)?(P=[0],I=[0],k=[0],cb(m=new Ra,a,r,n),mc(m,P,I,k)?(null!=u&&(u[0]=P[0]),null!=d&&(d[0]=I[0]),null!=v&&(v[0]=k[0]),a=1):a=0):a=0}else{if(10>n){w=7;break}u=h,null==a||10>n||!Jc(a,r+3,n-3)?a=0:(d=a[r+0]|a[r+1]<<8|a[r+2]<<16,v=16383&(a[r+7]<<8|a[r+6]),a=16383&(a[r+9]<<8|a[r+8]),1&d||3<(d>>1&7)||!(d>>4&1)||d>>5>=s.Ja||!v||!a?a=0:(f&&(f[0]=v),u&&(u[0]=a),a=1))}if(!a)return 3;if(f=f[0],h=h[0],b&&(c[0]!=f||l[0]!=h))return 3;null!=o&&(o[0]=s,o.offset=r-o.w,x(4294967286>r-o.w),x(o.offset==o.ha-n));break}return 0==w||7==w&&b&&null==o?(null!=e&&(e[0]|=null!=s.na&&0<s.na.length),null!=i&&(i[0]=f),null!=t&&(t[0]=h),0):w}function hc(a,r,n){var i=r.width,t=r.height,e=0,f=0,u=i,o=t;if(r.Da=null!=a&&0<a.Da,r.Da&&(u=a.cd,o=a.bd,e=a.v,f=a.j,11>n||(e&=-2,f&=-2),0>e||0>f||0>=u||0>=o||e+u>i||f+o>t))return 0;if(r.v=e,r.j=f,r.va=e+u,r.o=f+o,r.U=u,r.T=o,r.da=null!=a&&0<a.da,r.da){if(!bc(u,o,n=[a.ib],e=[a.hb]))return 0;r.ib=n[0],r.hb=e[0]}return r.ob=null!=a&&a.ob,r.Kb=null==a||!a.Sd,r.da&&(r.ob=r.ib<3*i/4&&r.hb<3*t/4,r.Kb=0),1}function Bd(a){if(null==a)return 2;if(11>a.S){var r=a.f.RGBA;r.fb+=(a.height-1)*r.A,r.A=-r.A}else r=a.f.kb,a=a.height,r.O+=(a-1)*r.fa,r.fa=-r.fa,r.N+=(a-1>>1)*r.Ab,r.Ab=-r.Ab,r.W+=(a-1>>1)*r.Db,r.Db=-r.Db,null!=r.F&&(r.J+=(a-1)*r.lb,r.lb=-r.lb);return 0}function Cd(a,r,n,i){if(null==i||0>=a||0>=r)return 2;if(null!=n){if(n.Da){var t=n.cd,e=n.bd,f=-2&n.v,u=-2&n.j;if(0>f||0>u||0>=t||0>=e||f+t>a||u+e>r)return 2;a=t,r=e}if(n.da){if(!bc(a,r,t=[n.ib],e=[n.hb]))return 2;a=t[0],r=e[0]}}i.width=a,i.height=r;a:{var o=i.width,c=i.height;if(a=i.S,0>=o||0>=c||!(a>=Ma&&13>a))a=2;else{if(0>=i.Rd&&null==i.sd){f=e=t=r=0;var l=(u=o*Yr[a])*c;if(11>a||(e=(c+1)/2*(r=(o+1)/2),12==a&&(f=(t=o)*c)),null==(c=V(l+2*e+f))){a=1;break a}i.sd=c,11>a?((o=i.f.RGBA).eb=c,o.fb=0,o.A=u,o.size=l):((o=i.f.kb).y=c,o.O=0,o.fa=u,o.Fd=l,o.f=c,o.N=0+l,o.Ab=r,o.Cd=e,o.ea=c,o.W=0+l+e,o.Db=r,o.Ed=e,12==a&&(o.F=c,o.J=0+l+2*e),o.Tc=f,o.lb=t)}if(r=1,t=i.S,e=i.width,f=i.height,t>=Ma&&13>t)if(11>t)a=i.f.RGBA,r&=(u=Math.abs(a.A))*(f-1)+e<=a.size,r&=u>=e*Yr[t],r&=null!=a.eb;else{a=i.f.kb,u=(e+1)/2,l=(f+1)/2,o=Math.abs(a.fa);c=Math.abs(a.Ab);var b=Math.abs(a.Db),d=Math.abs(a.lb),s=d*(f-1)+e;r&=o*(f-1)+e<=a.Fd,r&=c*(l-1)+u<=a.Cd,r=(r&=b*(l-1)+u<=a.Ed)&o>=e&c>=u&b>=u,r&=null!=a.y,r&=null!=a.f,r&=null!=a.ea,12==t&&(r&=d>=e,r&=s<=a.Tc,r&=null!=a.F)}else r=0;a=r?0:2}}return 0!=a?a:(null!=n&&n.fd&&(a=Bd(i)),a)}var a=64,r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],n=24,i=32,t=8,e=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];X("Predictor0","PredictorAdd0"),window.Predictor0=function(){return 4278190080},window.Predictor1=function(a){return a},window.Predictor2=function(a,r,n){return r[n+0]},window.Predictor3=function(a,r,n){return r[n+1]},window.Predictor4=function(a,r,n){return r[n-1]},window.Predictor5=function(a,r,n){return aa(aa(a,r[n+1]),r[n+0])},window.Predictor6=function(a,r,n){return aa(a,r[n-1])},window.Predictor7=function(a,r,n){return aa(a,r[n+0])},window.Predictor8=function(a,r,n){return aa(r[n-1],r[n+0])},window.Predictor9=function(a,r,n){return aa(r[n+0],r[n+1])},window.Predictor10=function(a,r,n){return aa(aa(a,r[n-1]),aa(r[n+0],r[n+1]))},window.Predictor11=function(a,r,n){var i=r[n+0];return 0>=Ia(i>>24&255,a>>24&255,(r=r[n-1])>>24&255)+Ia(i>>16&255,a>>16&255,r>>16&255)+Ia(i>>8&255,a>>8&255,r>>8&255)+Ia(255&i,255&a,255&r)?i:a},window.Predictor12=function(a,r,n){var i=r[n+0];return(sa((a>>24&255)+(i>>24&255)-((r=r[n-1])>>24&255))<<24|sa((a>>16&255)+(i>>16&255)-(r>>16&255))<<16|sa((a>>8&255)+(i>>8&255)-(r>>8&255))<<8|sa((255&a)+(255&i)-(255&r)))>>>0},window.Predictor13=function(a,r,n){var i=r[n-1];return(eb((a=aa(a,r[n+0]))>>24&255,i>>24&255)<<24|eb(a>>16&255,i>>16&255)<<16|eb(a>>8&255,i>>8&255)<<8|eb(a>>0&255,i>>0&255))>>>0};var f=window.PredictorAdd0;window.PredictorAdd1=cc,X("Predictor2","PredictorAdd2"),X("Predictor3","PredictorAdd3"),X("Predictor4","PredictorAdd4"),X("Predictor5","PredictorAdd5"),X("Predictor6","PredictorAdd6"),X("Predictor7","PredictorAdd7"),X("Predictor8","PredictorAdd8"),X("Predictor9","PredictorAdd9"),X("Predictor10","PredictorAdd10"),X("Predictor11","PredictorAdd11"),X("Predictor12","PredictorAdd12"),X("Predictor13","PredictorAdd13");var u=window.PredictorAdd2;ec("ColorIndexInverseTransform","MapARGB","32b",function(a){return a>>8&255},function(a){return a}),ec("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(a){return a},function(a){return a>>8&255});var o,c=window.ColorIndexInverseTransform,l=window.MapARGB,b=window.VP8LColorIndexInverseTransformAlpha,d=window.MapAlpha,s=window.VP8LPredictorsAdd=[];s.length=16,(window.VP8LPredictors=[]).length=16,(window.VP8LPredictorsAdd_C=[]).length=16,(window.VP8LPredictors_C=[]).length=16;var h,v,w,P,g,k,m,A,p,R,y,B,C,W,U,j,H,E,S,q,Y,N,$,Q,_,ia,ta,oa,ba=V(511),ka=V(2041),Va=V(225),pa=V(767),La=0,Da=ka,za=Va,Ka=pa,ya=ba,Ma=0,Ba=1,Ca=2,Wa=3,Ua=4,ja=5,Ea=6,Ja=7,Ya=8,Na=9,Za=10,_a=[2,3,7],ar=[3,3,11],rr=[280,256,256,256,40],nr=[0,1,1,1,0],ir=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],er=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fr=8,ur=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],or=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cr=null,lr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],br=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pr=[],gr=[],xr=[],kr=1,mr=2,Ar=[],Vr=[];va("UpsampleRgbLinePair",Ga,3),va("UpsampleBgrLinePair",Tb,3),va("UpsampleRgbaLinePair",wd,4),va("UpsampleBgraLinePair",vd,4),va("UpsampleArgbLinePair",ud,4),va("UpsampleRgba4444LinePair",td,2),va("UpsampleRgb565LinePair",sd,2);var pr=window.UpsampleRgbLinePair,Ir=window.UpsampleBgrLinePair,Gr=window.UpsampleRgbaLinePair,Lr=window.UpsampleBgraLinePair,Rr=window.UpsampleArgbLinePair,Dr=window.UpsampleRgba4444LinePair,zr=window.UpsampleRgb565LinePair,Tr=16,Kr=1<<Tr-1,yr=-227,Mr=482,Br=6,Cr=(256<<Br)-1,Fr=0,Wr=V(256),Ur=V(256),Or=V(256),jr=V(256),Hr=V(Mr-yr),Xr=V(Mr-yr);la("YuvToRgbRow",Ga,3),la("YuvToBgrRow",Tb,3),la("YuvToRgbaRow",wd,4),la("YuvToBgraRow",vd,4),la("YuvToArgbRow",ud,4),la("YuvToRgba4444Row",td,2),la("YuvToRgb565Row",sd,2);var Er=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sr=[0,2,8],Jr=[8,7,6,4,4,2,2,2,1,1,1,1],qr=1;this.WebPDecodeRGBA=function(a,r,n,i,t){var e=Ba,f=new Cf,u=new Cb;f.ba=u,u.S=e,u.width=[u.width],u.height=[u.height];var o=u.width,c=u.height,l=new Td;if(null==l||null==a)var b=2;else x(null!=l),b=Ad(a,r,n,l.width,l.height,l.Pd,l.Qd,l.format,null);if(0!=b?o=0:(null!=o&&(o[0]=l.width[0]),null!=c&&(c[0]=l.height[0]),o=1),o){u.width=u.width[0],u.height=u.height[0],null!=i&&(i[0]=u.width),null!=t&&(t[0]=u.height);a:{if(i=new Oa,(t=new md).data=a,t.w=r,t.ha=n,t.kd=1,r=[0],x(null!=t),(0==(a=Ad(t.data,t.w,t.ha,null,null,null,r,null,t))||7==a)&&r[0]&&(a=4),0==(r=a)){if(x(null!=f),i.data=t.data,i.w=t.w+t.offset,i.ha=t.ha-t.offset,i.put=kc,i.ac=gc,i.bc=lc,i.ma=f,t.xa){if(null==(a=Bc())){f=1;break a}if(function(a,r){var n=[0],i=[0],t=[0];r:for(;;){if(null==a)return 0;if(null==r)return a.a=2,0;if(a.l=r,a.a=0,cb(a.m,r.data,r.w,r.ha),!mc(a.m,n,i,t)){a.a=3;break r}if(a.xb=mr,r.width=n[0],r.height=i[0],!rb(n[0],i[0],1,a,null))break r;return 1}return x(0!=a.a),0}(a,i)){if(i=0==(r=Cd(i.width,i.height,f.Oa,f.ba))){r:{i=a;n:for(;;){if(null==i){i=0;break r}if(x(null!=i.s.yc),x(null!=i.s.Ya),x(0<i.s.Wb),x(null!=(n=i.l)),x(null!=(t=n.ma)),0!=i.xb){if(i.ca=t.ba,i.tb=t.tb,x(null!=i.ca),!hc(t.Oa,n,Wa)){i.a=2;break n}if(!Ec(i,n.width))break n;if(n.da)break n;if((n.da||hb(i.ca.S))&&Aa(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&Aa()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!Zb(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!Jb(i,i.V,i.Ba,i.c,i.i,n.o,ge))break n;t.Dc=i.Ma,i=1;break r}x(0!=i.a),i=0}i=!i}i&&(r=a.a)}else r=a.a}else{if(null==(a=new Ce)){f=1;break a}if(a.Fa=t.na,a.P=t.P,a.qc=t.Sa,Kc(a,i)){if(0==(r=Cd(i.width,i.height,f.Oa,f.ba))){if(a.Aa=0,n=f.Oa,x(null!=(t=a)),null!=n){if(0<(o=0>(o=n.Md)?0:100<o?255:255*o/100)){for(c=l=0;4>c;++c)12>(b=t.pb[c]).lc&&(b.ia=o*Jr[0>b.lc?0:b.lc]>>3),l|=b.ia;l&&(alert("todo:VP8InitRandom"),t.ia=1)}t.Ga=n.Id,100<t.Ga?t.Ga=100:0>t.Ga&&(t.Ga=0)}Me(a,i)||(r=a.a)}}else r=a.a}0==r&&null!=f.Oa&&f.Oa.fd&&(r=Bd(f.ba))}f=r}e=0!=f?null:11>e?u.f.RGBA.eb:u.f.kb.y}else e=null;return e};var Yr=[3,4,3,4,4,2,2,4,4,4,2,1,1]},new window.WebPDecoder,window.WebPImageViewer=WebPImageViewer,window.WebPRiffParser=WebPRiffParser;var viewer,WebPDecoder=window.WebPDecoder,WebPImageViewer=window.WebPImageViewer,WebPRiffParser=window.WebPRiffParser,webpdecoder=new WebPDecoder;function WebPDecodeAndDraw(a,r){a=function(a){var r,n=new Array,i=a.length;for(r=0;r<i;++r)n.push(a.charCodeAt(r));return n}(a);var n=WebPRiffParser(a,0);n.response=a,n.rgbaoutput=!0,n.dataurl=!1,viewer=new WebPImageViewer(webpdecoder,n,function(a){var i=n.header?n.header.canvas_width:a.imgwidth,t=n.header?n.header.canvas_height:a.imgheight,e=a.rgbaoutput;let f=new Uint8Array(e.length);for(var u=0;u<i*t*4;u++)f[u]=e[u];let o=new Laya.Texture2D(i,t,1,!1);o.setPixels(f);let c=Laya.Texture.create(o);c.uvrect=[0,0,1,1],c._uv=[0,0,1,0,1,1,0,1],r&&r(c)})}window.WebPDecodeAndDraw=WebPDecodeAndDraw;